---
title: "Police Killings 2015/2016"
author: "Dylan Arguelles"
date: "1/9/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

#library(ggplot2)
#library(dplyr)
#library(maps)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
the_counted_2016 <- read_csv("~/Desktop/popo/policeKillings/data/the-counted-2016.csv")

```


## Killings by State

```{r}
#frequency per state
killstates <- data.frame(count(the_counted_2016,state))
killstates$state <-state.name[match(killstates$state,state.abb)]
killstates$region <- tolower(killstates$state)
states <- map_data("state")

map.df <- merge(states,killstates, by="region", all.x=T)
map.df <- map.df[order(map.df$order),]

ggplot(map.df, aes(x=long,y=lat,group=group))+
  geom_polygon(aes(fill=n))+
  geom_path()+ 
  scale_fill_gradientn(colours=rev(heat.colors(10)),na.value="grey90")+
  coord_map()

```




## Killings by Race/Ethnicity
```{r, echo=FALSE}
ggplot(the_counted_2016, aes(x=raceethnicity, color=raceethnicity)) + geom_bar() + labs(title = "Killings by Race/Ethnicity", x = "Race/Ethnicity", y = "Number of Killings") + theme(axis.text.x = element_text(angle = 90, hjust = 1))

```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
